<!DOCTYPE html>
<html lang="en">
<!-- 09_24_05_Json.html -->
<head>
    <meta charset="UTF-8">
    <title>Json</title>
</head>
<body>

<h1> Json 예제 F12를 눌러 확인 </h1>

</body>

<script>

    // 1. JSON 형태의 문자열 데이터
    const jsonString = `
[
  {
    "id": "A001",
    "name": "프리미엄 텀블러",
    "price": 18000,
    "isInStock": true,
    "options": ["블랙", "실버", "화이트"]
  },
  {
    "id": "B002",
    "name": "무선 이어폰",
    "price": 99000,
    "isInStock": false,
    "options": []
  },
  {
    "id": "C003",
    "name": "스마트 워치",
    "price": 250000,
    "isInStock": true,
    "options": ["레드", "블루"]
  }
]
`;

    console.log("----- 원본 JSON 문자열 -----");
    console.log(jsonString);
    console.log(typeof jsonString); // string
    console.log("----- 원본 JSON 문자열 끝-----");

    // 2. JSON 문자열을 자바스크립트 객체/배열로 변환하기
    //    JSON.parse() 사용
    const products = JSON.parse(jsonString);

    console.log("\n----- JSON.parse() 후 자바스크립트 배열 객체 -----");
    console.log(products);
    console.log(typeof products); // object (배열도 자바스크립트에서는 객체의 일종입니다)
    console.log(Array.isArray(products)); // true (정확히 배열인지 확인)
    console.log("----- JSON.parse() 후 자바스크립트 배열 객체 끝 -----");

    // 3. 변환된 자바스크립트 배열 객체 다루기

    // 첫 번째 상품 정보 가져오기 (배열의 0번째 인덱스)
    const firstProduct = products[0];
    console.log("\n----- 첫 번째 상품 정보 -----");
    console.log(firstProduct);

    // 첫 번째 상품의 이름 가져오기 (객체의 속성 접근)
    console.log("첫 번째 상품 이름:", firstProduct.name); // 점(.) 표기법
    console.log("첫 번째 상품 가격:", firstProduct['price']); // 대괄호([]) 표기법 (키가 문자열일 때 유용)
    console.log("--- 상품 정보 읽어오기 끝 ---")

    // 두 번째 상품의 재고 여부 확인
    console.log("--- 재고여부 확인 시작 ---")
    const secondProduct = products[1];
    if (secondProduct.isInStock) {
        console.log(`\n${secondProduct.name}은(는) 재고가 있습니다.`);
    } else {
        console.log(`\n${secondProduct.name}은(는) 재고가 없습니다.`);
    }
    console.log("--- 재고여부 확인 끝 ---")

    // 세 번째 상품의 옵션들 출력하기
    const thirdProduct = products[2];
    console.log(`\n${thirdProduct.name}의 옵션:`);
    if (thirdProduct.options.length > 0) {
        thirdProduct.options.forEach(option => {
            console.log(`- ${option}`);
        });
    } else {
        console.log("선택 가능한 옵션이 없습니다.");
    }

    // 4. 자바스크립트 객체/배열을 JSON 문자열로 변환하기
    //    JSON.stringify() 사용
    const newProduct = {
        id: "D004",
        name: "AI 스피커",
        price: 150000,
        isInStock: true,
        options: ["블랙", "그레이"]
    };

    products.push(newProduct); // 새로운 상품 추가

    console.log("\n----- 새 상품 추가 후 자바스크립트 배열 객체 -----");
    console.log(products);

    const updatedJsonString = JSON.stringify(products, null, 2); // 보기 좋게 들여쓰기 2칸 적용

    console.log("\n----- JSON.stringify() 후 업데이트된 JSON 문자열 -----");
    console.log(updatedJsonString);
    console.log(typeof updatedJsonString); // string



</script>
</html>